<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta content="yes" name="apple-mobile-web-app-capable">
<meta content="black" name="apple-mobile-web-app-status-bar-style">
<meta content="telephone=no" name="format-detection">
<meta content="no-cache" http-equiv="Cache-Control">
<title>上品折扣微商城</title>
<link href="css/shopin.css" rel="stylesheet"/>
</head>

<body>
<div class="header fixed-bar static flex">
    <div class="left"><a class="a-back" href="javascript:;"><span>后退</span></a></div>
    <div class="title cell">
        <h1>收货地址</h1>
    </div>
    <div class="right"><a class="a-more" href="javascript:;"><span>更多</span></a></div>
</div><!--//头部结束-->
<div class="sub-menu j-menu">
	<a class="item" href="index.html">首页</a>
	<a class="item" href="cate.html">分类</a>
	<a class="item" href="cart.html">购物车</a>
	<a class="item" href="vip.html">我</a>
</div><!-- //二级导航结束 -->

<div class="content">
	<div class="m-address j_myaddress">
		<div class="order-address current">
			<div class="address-info">
				 收货人:
				<p class="address-name">舒龙飞</p>
				<p class="address-phone">18511248858</p>
			</div>
			<div class="address-details">
				收货地址：北京北京市昌平区北七家镇北京市昌平区北七家镇宏福苑北区03A号楼1单元1803室
			</div>
		</div><!-- //收货地址 -->
		<div class="order-address">
			<div class="address-info">
				 收货人:
				<p class="address-name">舒龙飞</p>
				<p class="address-phone">18511248858</p>
			</div>
			<div class="address-details">
				收货地址：北京北京市昌平区北七家镇北京市昌平区北七家镇宏福苑北区03A号楼1单元1803室
			</div>
		</div><!-- //收货地址 -->
		<div class="order-address">
			<div class="address-info">
				 收货人:
				<p class="address-name">舒龙飞</p>
				<p class="address-phone">18511248858</p>
			</div>
			<div class="address-details">
				收货地址：北京北京市昌平区北七家镇北京市昌平区北七家镇宏福苑北区03A号楼1单元1803室
			</div>
		</div><!-- //收货地址 -->
		<div class="order-address">
			<div class="address-info">
				 收货人:
				<p class="address-name">舒龙飞</p>
				<p class="address-phone">18511248858</p>
			</div>
			<div class="address-details">
				收货地址：北京北京市昌平区北七家镇北京市昌平区北七家镇宏福苑北区03A号楼1单元1803室
			</div>
		</div><!-- //收货地址 -->
	</div>
	<ul class="edit-address"><!-- //收货人地址：如果从修改过来 请带上参数 -->
		<li><span class="m-table-cell">收货人：</span><span class="m-table-cell"><input class="ea-inp" type="text" id="name" placeholder="请填写收货人姓名"></span></li>
		<li><span class="m-table-cell">手机号：</span><span class="m-table-cell"><input class="ea-inp" type="text" id="phone" placeholder="请填写收货人手机号码"></span></li>
		<li><span class="m-table-cell">邮编：</span><span class="m-table-cell"><input class="ea-inp" type="text" id="zipcode" placeholder="请填写邮编"></span></li>
		<li><span class="m-table-cell">省份：</span><span class="m-table-cell">
			<select class="ea-inp" id="province">
				<option value="0">请选择</option>
				<option value="">北京</option>
				<option value="">天津</option>
				<option value="">上海</option>
				<option value="">广州</option>
			</select></span>
		</li>
		<li><span class="m-table-cell">城市：</span><span class="m-table-cell">
			<select class="ea-inp" id="city">
				<option value="0">请选择</option>
				<option value="">北京</option>
				<option value="">天津</option>
				<option value="">上海</option>
				<option value="">广州</option>
			</select></span>
		</li>
		<li><span class="m-table-cell">详细地址：</span><span class="m-table-cell"><textarea class="ea-inp" id="addressDetail" rows="2" placeholder="请写个详细地址！"></textarea></li>
	</ul>
	<button id="actionBtn">新增收货地址</button>
</div>
<script src="js/zepto.min.js"></script>
<script src="js/shopin.js"></script>
<script>
$(".j_myaddress .order-address").live('tap', function(){
	$(this).addClass('current').siblings().removeClass('current');
	//选定地址后跳转到订单页
	setTimeout('window.location.href="payment.html"',200);
});
$('#actionBtn').on('tap', function(){
	if($('.m-address').is(':visible') && $('.edit-address').is(':hidden')){
		$('.m-address').css('display','none');
		$('.edit-address').css('display','block');
		$(this).text('保存地址');
	}else{
		if($("#name").val() == ""){
			alert('你没写名字！');
			$("#name").focus();
			return false;
		}
		if($("#phone").val() == ""){
			alert('你没写电话！');
			$("#phone").focus();
			return false;
		}
		if($("#zipcode").val() == ""){
			alert('你没写邮编！');
			$("#zipcode").focus();
			return false;
		}
		$('.m-address').css('display','block');
		$('.edit-address').css('display','none');
		$(this).text('新增收货地址');
		newAddress();
	}
});
function newAddress(){
	var _name = $('#name').val();
	var _phone = $('#phone').val();
	var _zipcode = $('#zipcode').val();
	var _province = $('#province').find("option:selected").text();
	var _city = $('#city').find("option:selected").text();
	var _addressDetail = $('#addressDetail').val();
	var _html = "<div class=\"order-address\"><div class=\"address-info\">收货人:<p class=\"address-name\">"+ _name + "</p><p class=\"address-phone\">"+ _phone + "</p></div><div class=\"address-details\">收货地址："+ _province + _city + _addressDetail + "</div></div>"
	$('.j_myaddress').find('.current').after(_html);
	//ajax保存地址
};
</script>
</body>
</html>